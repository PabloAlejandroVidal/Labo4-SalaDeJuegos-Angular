@use 'styles/index' as *;
@use '@angular/material' as mat;

/* ===========================
   MATERIAL THEME CONFIG
   =========================== */

@include mat.core();

$primary: mat.define-palette(mat.$cyan-palette, 600, A100, A400);
$accent: mat.define-palette(mat.$lime-palette, 600, A100, A400);
$warn:   mat.define-palette(mat.$red-palette, A400);

$light-theme: mat.define-light-theme((
  color: (
    primary: $primary,
    accent: $accent,
    warn: $warn,
  ),
  typography: mat.define-typography-config(),
  density: 0
));

$dark-theme: mat.define-dark-theme((
  color: (
    primary: mat.define-palette($primary, A700, A400, A200),
    accent: mat.define-palette($accent, A700, A400, A200),
    warn: $warn,
  ),
  typography: mat.define-typography-config(),
  density: 0
));

@include mat.all-component-themes($light-theme);

.dark-mode {
  @include mat.all-component-colors($dark-theme);
}

/* ===========================
   GLOBAL RESET + FIXES
   =========================== */

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  height: 100%;
  width: 100%;
}

body {
  display: block;
  margin: 0;
  font-family: Roboto, "Helvetica Neue", sans-serif;
  background-color: #{mat.get-color-from-palette($primary, 900)};
  color: #{mat.get-contrast-color-from-palette($primary, 900)};
}

/* Forzar TODOS los componentes Angular a comportarse como contenedores reales */
app-root,
app-layout,
app-nav-bar,
app-home,
app-sala-de-juegos,
app-auth,
app-login,
app-register,
app-about,
app-ranking,
app-encuesta,
app-encuestas-respuestas,
app-client,
app-waiter,
app-bartender,
app-chef,
app-mayor-menor,
app-ahorcado-game,
app-conecta-cuatro,
app-preguntados,
app-fruit-catcher {
  display: block;
  height: 100%;
  width: 100%;
}

/* ===========================
   GLOBAL UTILITIES
   =========================== */

.w-100 { width: 100%; }
.btn-row { display: flex; gap: 12px; margin-top: 8px; }
.mt-2 { margin-top: .5rem; }

/* ===========================
   CSS VARIABLES (THEME TOKENS)
   =========================== */

:root {
  --app-primary: #{mat.get-color-from-palette($primary)};
  --app-warn:    #{mat.get-color-from-palette($warn)};

  /* Fondo de formularios: VIDRIO SUAVE */
  --app-form-bg: rgba(255, 255, 255, 0.10);
  --app-form-fg: #eaffff;
}

.dark-mode {
  --app-primary: #{mat.get-color-from-palette($primary, A200)};
  --app-warn:    #{mat.get-color-from-palette($warn)};

  --app-form-bg: rgba(255, 255, 255, 0.12);
  --app-form-fg: #ffffff;
}

/* ===========================
   AUTOFILL FIX
   =========================== */

input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
textarea:-webkit-autofill,
select:-webkit-autofill {
  -webkit-box-shadow: 0 0 0 1000px transparent inset !important;
  box-shadow: 0 0 0 1000px transparent inset !important;
  -webkit-text-fill-color: inherit !important;
  transition: background-color 9999s ease-in-out 0s !important;
}

/* ===========================
   OPTIONAL PRIMARY BG UTILITY
   =========================== */

.bg-primary {
  background-color: mat.get-color-from-palette($primary, A400) !important;
  color: mat.get-contrast-color-from-palette($primary, 100) !important;
}

.dark-mode .bg-primary {
  background-color: mat.get-color-from-palette($primary, 500) !important;
  color: mat.get-contrast-color-from-palette($primary, 900) !important;
}

.bg-primary--hover.bg-primary:hover {
  background-color: mat.get-color-from-palette($primary, A200) !important;
  color: mat.get-contrast-color-from-palette($primary, 100) !important;
}
